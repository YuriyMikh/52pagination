{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-24dae8240ff178e8.js","src/js/aside-categories.js","node_modules/@parcel/runtime-js/lib/runtime-321e598e347b1222.js","node_modules/@parcel/runtime-js/lib/runtime-d3741b82b52b7e44.js","node_modules/@parcel/runtime-js/lib/runtime-c621af5863f3cdcf.js","node_modules/@parcel/runtime-js/lib/runtime-a5c67a0761547111.js","node_modules/@parcel/runtime-js/lib/runtime-c7155fb788e5e02a.js","node_modules/@parcel/runtime-js/lib/runtime-a4b1b979edd938e8.js","src/js/modal-window.js","src/js/templates/create-categories.js","src/js/burger-menu.js","src/js/main-page.js","src/js/templates/create-book.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.aaf42934.js\\\",\\\"7QMdA\\\":\\\"amazon.3c3f1cde.webp\\\",\\\"CgNCO\\\":\\\"amazon.b0a6f23c.png\\\",\\\"3CFHC\\\":\\\"apple.78ef44cc.webp\\\",\\\"hYuvF\\\":\\\"apple.34efda77.png\\\",\\\"lKiFj\\\":\\\"bookshop.bf5b4137.webp\\\",\\\"1dJFY\\\":\\\"bookshop.11f8a97b.png\\\",\\\"cjv10\\\":\\\"shopping-list.09458127.js\\\"}\"));","import { SwaggerAPI } from './swagger-api';\nimport createCategoriesMarkup from './templates/create-categories';\nimport addListener from './modal-window.js';\n\nconst categoriesList = document.querySelector('.aside-list');\nconst categoriesTitle = document.querySelector('.aside-title')\nconst renderingCategories = document.querySelector('.main-content');\n\nconst swaggerCategoriesApi = new SwaggerAPI();\n\nconst createCategoriesItem = async () => {\n  try {\n    const { data } = await swaggerCategoriesApi.fetchBooksCategoryList();\n    const searchCategory = data.map(category => {\n      return `<a class=\"aside-link\" ><li class=\"aside-item\">${category.list_name}</li></a>`;\n    }).join('');\n    categoriesList.innerHTML = searchCategory;\n  } catch (error) {\n    console.log(error);\n  };\n};\ncreateCategoriesItem();\n\n\nlet activeCategoryLink = null;\n\n\n//ф-я відображення книг\nconst onCategoriesLinkClick = event => {\n  const value = event.target.textContent;\n  swaggerCategoriesApi.categoryName = value;\n\n  if (activeCategoryLink) {\n    activeCategoryLink.classList.remove('active');\n  }\n\n  activeCategoryLink = event.target;\n  activeCategoryLink.classList.add('active');\n  categoriesTitle.classList.remove('active');\n\n  const createMarkupCategories = async () => {\n    try {\n      const { data } = await swaggerCategoriesApi.fetchBooksByCategory(value);\n      console.log(data);\n\n      const listName = data[0].list_name;\n\n      const words = listName.split(' ');\n      const lastWord = words[words.length - 1];\n      const otherWords = words.slice(0, words.length - 1).join(' ');\n\n      const decoratedListName = `${otherWords} <span class=\"categories-title-decor\">${lastWord}</span>`;\n      renderingCategories.innerHTML = `<h1 class=\"categories-title\">${decoratedListName}</h1> <ul class=\"categories-item\">${createCategoriesMarkup(\n        data\n      )}</ul>`;\n      addListener()\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  createMarkupCategories();\n};\n\ncategoriesList.addEventListener('click', onCategoriesLinkClick);","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7QMdA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"CgNCO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3CFHC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hYuvF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lKiFj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1dJFY\")).toString();","// -----------images----------\nimport amazon from '../images/shopping/amazon.webp';\nimport amazonpng from '../images/shopping/amazon.png';\nimport apple from '../images/shopping/apple.webp';\nimport applepng from '../images/shopping/apple.png';\nimport bookshop from '../images/shopping/bookshop.webp';\nimport bookshoppng from '../images/shopping/bookshop.png';\n// -----------------------------\nimport localStorage from './local-storage.js';\nimport { SwaggerAPI } from './swagger-api.js';\nimport { countBook } from './templates/shoppingListCounter';\nconst fetchAPI = new SwaggerAPI();\n\nconst backdrop = document.querySelector('.backdrop');\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modalShoppingBtn = document.querySelector('.modal-btn');\nconst modalInfo = document.querySelector('.modal-info');\nconst container = document.querySelector('.modal-book');\nlet bookApi = {};\n\nexport default function addListener() {\n  const bookContainer = document.querySelectorAll('.book-link');\n  bookContainer.forEach(book =>\n    book.addEventListener('click', onOpenModalWindow)\n  );\n}\n\nasync function onOpenModalWindow(event) {\n  event.preventDefault();\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.toggle('is-hidden');\n  backdrop.addEventListener('click', onBackdrop);\n  window.addEventListener('keydown', onEsc);\n  closeBtn.addEventListener('click', onCloseModalWindow);\n  try {\n    fetchAPI.bookId = event.currentTarget.dataset.id;\n    const resp = await fetchAPI.fetchBookById();\n    bookApi = resp.data;\n    console.log(bookApi);\n    createBookMarkup(bookApi);\n    createShoppingBtn(bookApi);\n    modalShoppingBtn.addEventListener('click', onUpdateShopList);\n  } catch {\n    err => console.log(err);\n  }\n}\n\nfunction createShoppingBtn(data) {\n  const storage = localStorage.load('bookList');\n  if (!storage || storage.length === 0) {\n    addBtn();\n    return;\n  }\n  for (book of storage) {\n    if (book.title === data.title) {\n      removeBtn();\n      return;\n    } else {\n      addBtn();\n    }\n  }\n}\n\nfunction onUpdateShopList() {\n  const storage = localStorage.load('bookList');\n  const title = document.querySelector('.modal-book-name').textContent;\n  if (modalShoppingBtn.textContent === 'add to shopping list') {\n    localStorage.addBookToStorage(bookApi);\n    removeBtn();\n    countBook();\n  } else {\n    storage.forEach((book, ind, arr) => {\n      if (book.title === title) {\n        return arr.splice(ind, 1);\n      }\n    });\n\n    localStorage.save('bookList', storage);\n    if (storage.length === 0) {\n      localStorage.remove('bookList');\n    }\n    countBook();\n    addBtn();\n  }\n}\n\nfunction addBtn() {\n  modalShoppingBtn.textContent = 'add to shopping list';\n  modalInfo.style.display = 'none';\n}\n\nfunction removeBtn() {\n  modalShoppingBtn.textContent = 'remove from the shopping list';\n  modalInfo.style.display = 'block';\n}\n\nfunction createBookMarkup(book) {\n  const markup = `<img\nclass=\"modal-img\"\nsrc=${book.book_image}\nalt=\"Book cover\"\n/>\n<div class=\"modal-info-container\">\n<p class=\"modal-book-name\">${book.title}</p>\n<p class=\"modal-book-author\">${book.author}</p>\n<p class=\"modal-list-name is-hidden\">${book.list_name}</p>\n<p class=\"modal-book-desc\">${book.description}\n</p>\n<div class=\"modal-icons-container\">\n  <a href=\"${book.buy_links[0].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${amazon}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${amazonpng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${amazonpng}\"\n        alt=\"Amazon\"\n      /> </picture\n  ></a>\n  <a href=\"${book.buy_links[1].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${apple}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${applepng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${applepng}\"\n        alt=\"Apple Books\"\n      /> </picture\n  ></a>\n  <a href=\"${book.buy_links[4].url}\" target=\"_blank\" rel=\"noopener noreferrer\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${bookshop}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${bookshoppng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${bookshoppng}\"\n        alt=\"Bookshop\"\n      /></picture\n  ></a>\n</div>\n</div>`;\n  container.innerHTML = markup;\n}\n\nfunction onEsc(event) {\n  if (event.key === 'Escape') {\n    onCloseModalWindow();\n  }\n}\n\nfunction onBackdrop(event) {\n  if (event.target === backdrop) {\n    onCloseModalWindow();\n  }\n}\n\nfunction onCloseModalWindow() {\n  backdrop.classList.toggle('is-hidden');\n  document.body.style.overflow = 'visible';\n  backdrop.removeEventListener('click', onBackdrop);\n  window.removeEventListener('keydown', onEsc);\n  closeBtn.removeEventListener('click', onCloseModalWindow);\n}\n","export default function createCategoriesMarkup(bookInfo) {\n\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n\n      return `\n\n<li class=\"category-list-item\">\n<a class=\"book-link\" href=\"\" data-id = \"${_id}\">\n<div class=\"book-thumb\">\n<img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n<div class=\"book-overlay\">\n<p class=\"book-overlay-text\">quick view</p>\n</div>\n</div>\n<div class=\"book-card-content\">\n<h2 class=\"book-title\">${title}</h2>\n<p class=\"book-author\">${author}</p>\n</div>\n</a>\n</li>`;\n    })\n    .join('');\n  return markup;\n}\n\n","const modal = document.getElementById(\"mobile-menu-modal\");\nconst openButton = document.querySelector(\".js-open-menu-burger\");\nconst closeButton = document.querySelector(\".close-mobile-modal-btn\");\n\nopenButton.addEventListener(\"click\", openModal);\ncloseButton.addEventListener(\"click\", closeModal);\n\nfunction openModal() {\n  modal.style.display = \"block\";\n  openButton.classList.add(\"hidden\");\n  closeButton.classList.remove(\"hidden\");\n  document.body.classList.add(\"modal-open\");\n}\n\nfunction closeModal() {\n  modal.style.display = \"none\";\n  openButton.classList.remove(\"hidden\");\n  closeButton.classList.add(\"hidden\");\n  document.body.classList.remove(\"modal-open\");\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", function() {\n  modal.style.display = \"none\";\n  closeButton.classList.add(\"hidden\");\n});\n\n\n","import { SwaggerAPI } from './swagger-api.js';\nimport createBook from './templates/create-book.js';\nimport addListener from './modal-window.js';\n\nconst booksContainer = document.querySelector('.category-list');\nconst title = document.querySelector('.home-title');\n\nconst topBooksAPI = new SwaggerAPI();\n\nlet bodyWidth = 0;\n\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\ncreateBlock();\n\nasync function createBlock() {\n  try {\n    const { data } = await topBooksAPI.fetchTopBooks();\n\n    for (let i = 0; i < 4; i++) {\n      let topBooks = data[i].books;\n      let markUpCount = 0;\n\n      if (bodyWidth <= 767) {\n        markUpCount = 1;\n      }\n      if (bodyWidth >= 768 && bodyWidth < 1440) {\n        markUpCount = 3;\n      }\n      if (bodyWidth >= 1440) {\n        markUpCount = 5;\n      }\n\n      const markup = `<li class=\"category-list-item top-list-item\">\n        <p class=\"category-name\" data-category-name=\"${\n          topBooks[0].list_name\n        }\">${topBooks[0].list_name}</p>\n        <ul class=\"books-list\">\n          ${createBook(topBooks.slice(0, markUpCount))}\n        </ul>\n       <button class=\"category-list-button\">see more</button>  \n      </li>`;\n\n      booksContainer.insertAdjacentHTML('beforeend', markup);\n      findBtn();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  addListener()\n}\n\nfunction findBtn() {\n  const seeMoreBtnEls = document.querySelectorAll('.category-list-button');\n\n  seeMoreBtnEls.forEach(seeMoreBtn => {\n    seeMoreBtn.addEventListener('click', onSeeMoreBtnClick);\n  });\n}\n\nasync function onSeeMoreBtnClick(event) {\n  try {\n    const name =\n      event.target.previousElementSibling.previousElementSibling.textContent;\n\n    topBooksAPI.categoryName = name;\n    const { data } = await topBooksAPI.fetchBooksByCategory();\n\n    title.innerHTML = divideTitleElements(name);\n    booksContainer.classList.add('category-list-click');\n    booksContainer.innerHTML = createBook(data);\n    addActiveClassToCategoryListItem(name);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction divideTitleElements(categoryName) {\n\n\n  const words = categoryName.split(' ');\n  const lastWord = words[words.length - 1];\n  const otherWords = words.slice(0, words.length - 1).join(' ');\n\n  return `<span class=\"home-title-decor\">${otherWords} </span>${lastWord}`;\n}\n\n\nfunction addActiveClassToCategoryListItem(name) {\n  const asideCategoryItems = document.querySelectorAll('.aside-item');\n  const allCategoriesTitle = document.querySelector('.aside-title');\n\n  asideCategoryItems.forEach(asideCategoryItem => {\n    if (name === asideCategoryItem.textContent) {\n      allCategoriesTitle.classList.toggle('active');\n      asideCategoryItem.classList.toggle('active');\n    }\n  });\n}\n","export default function createBook(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n      return `<li class=\"books-list-item\">\n                 <a class=\"book-link\" href=\"\" data-id=\"${_id}\">\n                    <div class=\"book-thumb\">\n                      <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n\n                        <div class=\"book-overlay\">\n                       <p class=\"book-overlay-text\">quick view</p>\n                       </div>\n                       </div>                     \n                     <div class=\"book-card-content\">\n                     <h2 class=\"book-title\">${title}</h2>\n                     <p class=\"book-author\">${author}</p>\n                     </div>\n                 </a>                    \n              </li>`;\n    })\n    .join('');\n  return markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$b2XdZ","$0166347e9d285eb4$exports","URL","resolve","import","meta","url","toString","$b697ad5b837efdc7$exports","$ee4dde89113babfb$exports","$9aae7d6dea6fa164$exports","$4dc3978aff85ab9c$exports","$e3b6d6a2deb56fd1$exports","$1aa81d6d0cd85e48$var$fetchAPI","SwaggerAPI","$1aa81d6d0cd85e48$var$backdrop","document","querySelector","$1aa81d6d0cd85e48$var$closeBtn","$1aa81d6d0cd85e48$var$modalShoppingBtn","$1aa81d6d0cd85e48$var$modalInfo","$1aa81d6d0cd85e48$var$container","$1aa81d6d0cd85e48$var$bookApi","$1aa81d6d0cd85e48$export$2e2bcd8739ae039","querySelectorAll","forEach","book","addEventListener","$1aa81d6d0cd85e48$var$onOpenModalWindow","async","event","preventDefault","body","style","overflow","classList","toggle","$1aa81d6d0cd85e48$var$onBackdrop","window","$1aa81d6d0cd85e48$var$onEsc","$1aa81d6d0cd85e48$var$onCloseModalWindow","bookId","currentTarget","dataset","id","resp","fetchBookById","data","console","log","markup","book_image","title","author","list_name","description","buy_links","$parcel$interopDefault","innerHTML","$1aa81d6d0cd85e48$var$createBookMarkup","storage","$b5rV1","default","load","length","$1aa81d6d0cd85e48$var$addBtn","$1aa81d6d0cd85e48$var$removeBtn","$1aa81d6d0cd85e48$var$createShoppingBtn","$1aa81d6d0cd85e48$var$onUpdateShopList","textContent","addBookToStorage","$lPDaB","countBook","ind","arr","splice","save","remove","display","key","target","removeEventListener","$8624f18deccb59bb$var$categoriesList","$8624f18deccb59bb$var$categoriesTitle","$8624f18deccb59bb$var$renderingCategories","$8624f18deccb59bb$var$swaggerCategoriesApi","fetchBooksCategoryList","searchCategory","map","category","join","error","$8624f18deccb59bb$var$createCategoriesItem","$8624f18deccb59bb$var$activeCategoryLink","value","categoryName","add","fetchBooksByCategory","words","split","lastWord","decoratedListName","slice","bookInfo","_id","createMarkupCategories","$6442e51d8b52aaf7$var$modal","getElementById","$6442e51d8b52aaf7$var$openButton","$6442e51d8b52aaf7$var$closeButton","$1f74396456af3c8a$export$2e2bcd8739ae039","$866dea3744b84f28$var$booksContainer","$866dea3744b84f28$var$title","$866dea3744b84f28$var$topBooksAPI","$866dea3744b84f28$var$bodyWidth","$866dea3744b84f28$var$findBtn","seeMoreBtn","$866dea3744b84f28$var$onSeeMoreBtnClick","name","previousElementSibling","$866dea3744b84f28$var$divideTitleElements","asideCategoryItems","allCategoriesTitle","asideCategoryItem","$866dea3744b84f28$var$addActiveClassToCategoryListItem","onload","clientWidth","fetchTopBooks","i","topBooks","books","markUpCount","insertAdjacentHTML","$866dea3744b84f28$var$createBlock"],"version":3,"file":"index.aaf42934.js.map"}