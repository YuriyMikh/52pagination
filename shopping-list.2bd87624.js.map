{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1909ad88108e3bd1.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-dfc7d737be75d83f.js","node_modules/@parcel/runtime-js/lib/runtime-e090d284248cb72e.js","node_modules/@parcel/runtime-js/lib/runtime-4b064fc00f854ac5.js","node_modules/@parcel/runtime-js/lib/runtime-98b3db33fd619fb2.js","node_modules/@parcel/runtime-js/lib/runtime-dab1a06fa9659a97.js","node_modules/@parcel/runtime-js/lib/runtime-fab5cfc97a31dada.js","node_modules/@parcel/runtime-js/lib/runtime-efa2c4e7146f37df.js","node_modules/@parcel/runtime-js/lib/runtime-2770e2f1348f4549.js","node_modules/@parcel/runtime-js/lib/runtime-d3741b82b52b7e44.js","node_modules/@parcel/runtime-js/lib/runtime-321e598e347b1222.js","node_modules/@parcel/runtime-js/lib/runtime-a5c67a0761547111.js","node_modules/@parcel/runtime-js/lib/runtime-c621af5863f3cdcf.js","node_modules/@parcel/runtime-js/lib/runtime-a4b1b979edd938e8.js","node_modules/@parcel/runtime-js/lib/runtime-c7155fb788e5e02a.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/shopping-cart.js","src/js/shopping-list-main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7nZc1\\\":\\\"shopping-list.2bd87624.js\\\",\\\"aK5fH\\\":\\\"books_322_@1.756abb35.webp\\\",\\\"jzumu\\\":\\\"books_322_@2.061cea98.webp\\\",\\\"9XvFm\\\":\\\"books_322_@1.9d82d098.png\\\",\\\"2Qp9q\\\":\\\"books_322_@2.80ece8cf.png\\\",\\\"9P9hu\\\":\\\"books_265_@1.88805d0a.webp\\\",\\\"fKwqX\\\":\\\"books_265_@2.2708f99b.webp\\\",\\\"5vwjB\\\":\\\"books_265_@1.6c062fbc.png\\\",\\\"2gN6y\\\":\\\"books_265_@2.28750540.png\\\",\\\"CgNCO\\\":\\\"amazon.b0a6f23c.png\\\",\\\"7QMdA\\\":\\\"amazon.3c3f1cde.webp\\\",\\\"hYuvF\\\":\\\"apple.34efda77.png\\\",\\\"3CFHC\\\":\\\"apple.78ef44cc.webp\\\",\\\"1dJFY\\\":\\\"bookshop.11f8a97b.png\\\",\\\"lKiFj\\\":\\\"bookshop.bf5b4137.webp\\\",\\\"lp5u4\\\":\\\"sprite.43c0101b.svg\\\",\\\"cjv10\\\":\\\"shopping-list.09458127.js\\\"}\"));","import './aside-support-ukraine.js';\n// import './burger-menu.js';\nimport './header.js';\nimport './switch-theme.js';\nimport './shopping-list-main.js';\nimport './pagination.js';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aK5fH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jzumu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9XvFm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2Qp9q\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9P9hu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fKwqX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5vwjB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2gN6y\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"CgNCO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7QMdA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hYuvF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3CFHC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1dJFY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lKiFj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import amazonImg from \"../images/shopping/amazon.png\";\nimport amazonWebp from \"../images/shopping/amazon.webp\"\nimport appleBook from \"../images/shopping/apple.png\";\nimport appleWebp from \"../images/shopping/apple.webp\"\nimport bookShopIcon from \"../images/shopping/bookshop.png\";\nimport bookShopWebp from \"../images/shopping/bookshop.webp\"\nimport sprite from \"../images/sprite.svg\"\n\nlet bodyWidth = 0;\nonload = event => {\n  bodyWidth = event.target.body.clientWidth;\n};\n\nexport default function (bookColection) {\n  const markup = bookColection\n    .map(book => {\n      let {\n        title,\n        list_name,\n        description,\n        author,\n        book_image,\n        amazon,\n        apple,\n        bookShop,\n      } = book;\n        description.length !== 0 \n            ? description\n            : description = \"We are pleased to inform you that all information about this book you can found on partner resources (such as Amazon, etc.)\"\n    if (bodyWidth <= 767) {\n        list_name = list_name.slice(0, 20) + \"...\"\n        description = description.slice(0, 85) + \"...\"\n    }\n    if (bodyWidth >= 768 && bodyWidth < 1440) {\n        description.length > 1 && description.length < 250\n            ? description\n            : description.slice(0, 250) + \"...\"\n    }\n      return `<li class=\"shop-cart-container\">\n            <div class=\"shop-cart-wrap\">\n                <div class=\"shop-image-wrapper\">\n                    <img class=\"shop-image\" src=\"${book_image}\" alt=\"${title}\">\n                </div>\n                <div class=\"shop-cart-info\">\n                    <h2 class=\"shop-cart-title\">${title}</h2>\n                    <h3 class=\"shop-cart-category\">${list_name}</h3>\n                    <p class=\"shop-cart-description\">${description}</p>\n                    <div class=\"shop-cart-bottom-wrap\">\n                        <h4 class=\"shop-cart-author\">${author}</h4>\n                        <ul class=\"shop-cart-media\">\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${amazon}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${amazonWebp}\" type=\"image/webp\" />\n                                        <source srcset=\"${amazonImg}\" type=\"image/png\" />\n                                        <img class=\"media-icon amazon-icon\" src=\"${amazonImg}\" alt=\"Amazon logo\" />\n                                    </picture>\n                                </a>    \n                            </li>\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${apple}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${appleWebp}\" type=\"image/webp\" />\n                                        <source srcset=\"${appleBook}\" type=\"image/png\" />\n                                        <img class=\"media-icon\" src=\"${appleBook}\" alt=\"Apple book logo\" />\n                                    </picture>\n                                </a>\n                            </li>\n                            <li class=\"shop-cart-media-item\">\n                                <a href=\"${bookShop}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <picture>\n                                        <source srcset=\"${bookShopWebp}\" type=\"image/webp\" /> \n                                        <source srcset=\"${bookShopIcon}\" type=\"image/png\" />\n                                        <img class=\"media-icon\" src=\"${bookShopIcon}\" alt=\"Book shop logo\" />\n                                    </picture>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                    <button class=\"shop-cart-btn\" type=\"button\" data-title=\"${title}\">\n                        <svg class=\"shop-cart-btn-trash\">\n                            <use href=\"${sprite}#trash\"></use>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n          </div>\n        </li>`;\n    })\n    .join('');\n  return markup;\n}\n","import book322_1 from '../images/shopping/books_322_@1.webp';\nimport book322_2 from '../images/shopping/books_322_@2.webp';\nimport book322_11 from '../images/shopping/books_322_@1.png';\nimport book322_22 from '../images/shopping/books_322_@2.png';\nimport book265_1 from '../images/shopping/books_265_@1.webp';\nimport book265_2 from '../images/shopping/books_265_@2.webp';\nimport book265_11 from '../images/shopping/books_265_@1.png';\nimport book265_22 from '../images/shopping/books_265_@2.png';\n\nimport Storage from './local-storage';\nimport getShoppingCartMarkup from './shopping-cart';\nimport { countBook } from './templates/shoppingListCounter';\n\nimport { SwaggerAPI } from './swagger-api.js';\n\nconst booksApi = new SwaggerAPI();\n\nconst listContainer = document.querySelector('.js-shopping-list');\n\nconst bookStorage = Storage.load('bookList');\n\nconst shopContainer = async () => {\n  if (bookStorage) {\n    listContainer.innerHTML = `\n        <ul class=\"shop-cart-list\">\n            ${getShoppingCartMarkup(bookStorage)}\n        </ul>\n        `;\n    const deleteCardItem = document.querySelectorAll('.shop-cart-btn');\n    deleteCardItem.forEach(btn => {\n      btn.addEventListener('click', e => {\n        if (\n          e.target.nodeName === 'BUTTON' ||\n          e.target.nodeName === 'svg' ||\n          e.target.nodeName === 'use'\n        ) {\n          const deleteBookIndex = bookStorage.indexOf(\n            bookStorage.find(\n              book => book.title === e.currentTarget.dataset.title\n            )\n          );\n          if (deleteBookIndex < 0) {\n            return;\n          }\n          bookStorage.splice(deleteBookIndex, 1);\n          Storage.save('bookList', bookStorage);\n          e.target.closest('li').remove();\n          if (bookStorage.length === 0) {\n            listContainer.innerHTML = emptyShoppingMarkup();\n            Storage.remove('bookList');\n          }\n          countBook();\n          return;\n        }\n      }); //end of click\n    }); // end forEach\n  } else {\n    listContainer.innerHTML = emptyShoppingMarkup();\n  }\n};\nshopContainer();\n\nfunction emptyShoppingMarkup() {\n  return `\n    <p class=\"shopping-list-text\">This page is empty, add some books and proceed to order.</p>\n        <picture>\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_1} 1x,\n                            ${book322_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_11} 1x,\n                            ${book322_22} 2x\n                            \" type=\"image/png\" />\n\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_1} 1x,\n                            ${book265_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_11} 1x,\n                            ${book265_22} 2x\n                            \" type=\"image/png\" />\n\n            <img class=\"shopping-list-image\" src=\"${book265_1}\" alt=\"Books\" loading=\"lazy\" />\n        </picture>\n    `;\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$bbeeed93fb750c37$exports","URL","resolve","import","meta","url","toString","$e9bfa1cc8305fd86$exports","$fcfaebf1208d70f5$exports","$15a12da09dde93f2$exports","$388ce3c24e22b049$exports","$edcbf47c215e1402$exports","$c809ce6ab5a6d539$exports","$814f554c0456a5df$exports","$b697ad5b837efdc7$exports","$0166347e9d285eb4$exports","$9aae7d6dea6fa164$exports","$ee4dde89113babfb$exports","$e3b6d6a2deb56fd1$exports","$4dc3978aff85ab9c$exports","$a4212a039eccdb43$exports","$4a73c26242538acf$var$bodyWidth","onload","event","target","body","clientWidth","SwaggerAPI","$8fdc86afed5922bc$var$listContainer","document","querySelector","$8fdc86afed5922bc$var$bookStorage","$b5rV1","default","load","$8fdc86afed5922bc$var$emptyShoppingMarkup","$parcel$interopDefault","async","innerHTML","bookColection","map","book","title","list_name","description","author","book_image","amazon","apple","bookShop","slice","join","querySelectorAll","forEach","btn","addEventListener","e","nodeName","deleteBookIndex","indexOf","find","currentTarget","dataset","splice","save","closest","remove","$lPDaB","countBook","$8fdc86afed5922bc$var$shopContainer"],"version":3,"file":"shopping-list.2bd87624.js.map"}